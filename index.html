<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é€ å’–ç¶²ç«™æˆæ•ˆå ±å‘Š</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', 'PingFang TC', sans-serif;
            background: #E0E0E0;
            padding: 20px;
            line-height: 1.8;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: #FFC107;
            padding: 40px 30px;
            text-align: center;
            color: #333;
        }

        .header h1 {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 18px;
            opacity: 0.95;
        }

        .content {
            padding: 40px 30px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 26px;
            font-weight: bold;
            color: #FF9933;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #FF9933;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #e1e8ed 100%);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-3px);
        }

        .metric-card h3 {
            font-size: 15px;
            color: #666;
            margin-bottom: 10px;
        }

        .metric-card .value {
            font-size: 32px;
            font-weight: bold;
            color: #FF6666;
            margin-bottom: 5px;
        }

        .metric-card .change {
            font-size: 15px;
            color: #4CAF50;
            font-weight: bold;
        }

        .text-content {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            border-left: 4px solid #FF9933;
        }

        .text-content p {
            font-size: 20px;
            color: #333;
            line-height: 1.9;
            margin-bottom: 12px;
        }

        .text-content p:last-child {
            margin-bottom: 0;
        }

        .chart-container {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .chart-wrapper {
            position: relative;
            height: 350px;
            margin-bottom: 15px;
            width: 100%;
            overflow-x: auto;
        }

        .chart-wrapper.daily-chart {
            height: 320px;
        }

        .chart-wrapper canvas {
            min-width: 100%;
        }

        .article-list {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .article-item {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            transition: background 0.3s ease;
        }

        .article-item:hover {
            background: #e8e8e8;
        }

        .article-item:last-child {
            border-bottom: none;
        }

        .article-rank {
            display: inline-block;
            width: 32px;
            height: 32px;
            background: #FF9933;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 32px;
            margin-right: 12px;
            font-weight: bold;
            font-size: 15px;
        }

        .article-title {
            font-size: 16px;
            color: #333;
            line-height: 1.6;
        }

        .article-views {
            color: #FF6666;
            font-weight: bold;
            font-size: 15px;
            margin-top: 5px;
            display: block;
            margin-left: 44px;
        }

        .article-link {
            color: #1976D2;
            font-size: 14px;
            margin-left: 44px;
            display: block;
            margin-top: 3px;
            word-break: break-all;
            text-decoration: none;
        }

        .article-link:hover {
            text-decoration: underline;
        }

        .keyword-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .keyword-item {
            background: white;
            padding: 18px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .keyword-name {
            font-weight: bold;
            color: #7B1FA2;
            font-size: 17px;
            margin-bottom: 8px;
        }

        .keyword-stats {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .header {
                padding: 30px 20px;
            }

            .header h1 {
                font-size: 24px;
            }

            .header p {
                font-size: 14px;
            }

            .content {
                padding: 25px 20px;
            }

            .section-title {
                font-size: 20px;
            }

            .metrics-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .metric-card {
                padding: 20px;
            }

            .metric-card .value {
                font-size: 28px;
            }

            .text-content {
                padding: 20px;
            }

            .text-content p {
                font-size: 20px;
            }

            .chart-wrapper {
                height: 300px;
                overflow-x: auto;
            }

            .chart-wrapper.daily-chart {
                height: 320px;
            }

            .chart-wrapper canvas {
                min-width: 600px;
            }

            .chart-wrapper.category-chart canvas {
                min-width: 650px;
            }

            .article-list {
                padding: 20px;
            }

            .article-item {
                padding: 12px;
            }

            .article-rank {
                width: 28px;
                height: 28px;
                line-height: 28px;
                font-size: 14px;
            }

            .article-title {
                font-size: 15px;
            }

            .article-views,
            .article-link {
                margin-left: 40px;
                font-size: 14px;
            }

            .keyword-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 20px;
            }

            .section-title {
                font-size: 18px;
            }

            .metric-card .value {
                font-size: 24px;
            }

            .text-content p {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>é€ å’–é€±å ±</h1>
            <p>2025å¹´10æœˆ22æ—¥ - 10æœˆ28æ—¥</p>
        </div>

        <div class="content">
            <!-- ç¸½è¦½æŒ‡æ¨™ -->
            <div class="section">
                <h2 class="section-title">ğŸ“Š ç¸½è¦½</h2>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <h3>ç¸½ PV</h3>
                        <div class="value">405è¬</div>
                        <div class="change">+4.7%</div>
                    </div>
                    <div class="metric-card">
                        <h3>ä½¿ç”¨è€…</h3>
                        <div class="value">122.9è¬</div>
                        <div class="change">+4.7%</div>
                    </div>
                    <div class="metric-card">
                        <h3>æ–°ä½¿ç”¨è€…</h3>
                        <div class="value">68.6è¬</div>
                        <div class="change">+8.9%</div>
                    </div>
                </div>

                <div class="text-content">
                    <p>æœ¬é€±ç¶²ç«™æµé‡ç©©å¥æˆé•·,ç¸½ PV å†åº¦çªç ´ 400 è¬,é” 4,051,005,æ¯æ—¥å¹³å‡ PV ç´„ 57.9 è¬ã€‚å–®æ—¥æœ€é«˜ç‚º 10/27(69.9 è¬),ä¸»è¦å—ã€Œè—äººé–ƒå…µæ¡ˆé–‹åº­ã€ã€ã€Œç¿»è½‰å¸ƒä¸é™é‡ç‰ˆã€åŠã€Œäºæœ¦æœ§äº‹ä»¶å»¶ç‡’ã€ç­‰è©±é¡Œå¸¶å‹•ã€‚å¨›æ¨‚çˆ­è­°èˆ‡æ¶ˆè²»æ–°å“ä¸¦è¡Œæ¨å‡ç¤¾ç¾¤ç†±åº¦,ä½¿æ•´é«”æ›å…‰åº¦æ˜é¡¯ä¸Šå‡ã€‚</p>
                </div>

                <div class="chart-container">
                    <h3 style="color: #666; margin-bottom: 15px; font-size: 18px;">æ¯æ—¥æµé‡è¶¨å‹¢</h3>
                    <div class="chart-wrapper daily-chart">
                        <canvas id="dailyChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- æµé‡ä¾†æºåˆ†æ -->
            <div class="section">
                <h2 class="section-title">ğŸ“± æµé‡ä¾†æºåˆ†æ</h2>
                
                <div class="text-content">
                    <p>ç¤¾ç¾¤æµé‡ä»ç‚ºä¸»åŠ›ä¾†æº,å æ¯”é” 83.9%ã€‚m.facebook.com(224 è¬ PV,-4.2%)èˆ‡ lm.facebook.com(107 è¬ PV,+4.5%)æŒçºŒç©©å®š,Direct æµé‡å¤§å¹…æˆé•· 72.4%,é¡¯ç¤ºå“ç‰Œç›´æ¥è¨ªå•ç‡é¡¯è‘—æå‡ã€‚Google Organic Search æˆé•· 91.1%,ç‚ºæœ¬é€±é—œéµäº®é»ã€‚æ•´é«”å¹³å‡æ¯ä½ä½¿ç”¨è€…ç€è¦½é æ•¸ 3.3(+0.1%),ç¶­æŒè‰¯å¥½äº’å‹•å“è³ªã€‚</p>
                </div>

                <div class="chart-container">
                    <h3 style="color: #666; margin-bottom: 15px; font-size: 18px;">æµé‡ä¾†æºå æ¯”</h3>
                    <div class="chart-wrapper">
                        <canvas id="sourceChart"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <h3 style="color: #666; margin-bottom: 15px; font-size: 18px;">ä¸»è¦ç¤¾ç¾¤ä¾†æº</h3>
                    <div class="chart-wrapper">
                        <canvas id="socialChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- é—œéµå­—ç†±æœæ¦œ -->
            <div class="section">
                <h2 class="section-title">ğŸ” é—œéµå­—ç†±æœæ¦œ TOP 5</h2>
                
                <div class="text-content">
                    <p>æœå°‹æ›å…‰é‡ 779,970(-35.5%),é»æ“Šæ¬¡æ•¸ 31,447(-27.3%),CTR ç‚º 4.03%(+12.7%),å¹³å‡æ’å 9.42(-2.3%)ã€‚ç†±é–€æœå°‹è©åŒ…æ‹¬ã€ŒèŒƒä¸–éŒ¡ã€ã€ã€Œçµ±ä¸€å¸ƒä¸ã€ã€ã€Œç¿»è½‰å¸ƒä¸ã€ã€ã€Œå‘½æ‡¸ä¸€ç”Ÿã€ã€ã€Œäºæœ¦æœ§ã€ç­‰,å¨›æ¨‚èˆ‡ç”Ÿæ´»è©±é¡Œä¸¦åˆ—,é¡¯ç¤ºç¤¾ç¾¤è¼¿è«–èˆ‡æ¶ˆè²»æœå°‹æŒçºŒäº¤éŒ¯å½±éŸ¿ã€‚</p>
                </div>

                <div class="text-content">
                    <div class="keyword-grid">
                        <div class="keyword-item">
                            <div class="keyword-name">1. èŒƒä¸–éŒ¡</div>
                            <div class="keyword-stats">
                                æ›å…‰:18,627 (+12,882)<br>
                                é»æ“Š:2,221 (+1,210)<br>
                                é»æ“Šç‡:11.9%
                            </div>
                        </div>
                        <div class="keyword-item">
                            <div class="keyword-name">2. çµ±ä¸€å¸ƒä¸</div>
                            <div class="keyword-stats">
                                æ›å…‰:3,480 (+1,845)<br>
                                é»æ“Š:856 (+785)<br>
                                é»æ“Šç‡:24.6%
                            </div>
                        </div>
                        <div class="keyword-item">
                            <div class="keyword-name">3. ç¿»è½‰å¸ƒä¸</div>
                            <div class="keyword-stats">
                                æ›å…‰:7,102 (+5,196)<br>
                                é»æ“Š:752 (+409)<br>
                                é»æ“Šç‡:10.6%
                            </div>
                        </div>
                        <div class="keyword-item">
                            <div class="keyword-name">4. å‘½æ‡¸ä¸€ç”Ÿ</div>
                            <div class="keyword-stats">
                                æ›å…‰:5,469 (+4,380)<br>
                                é»æ“Š:665 (+604)<br>
                                é»æ“Šç‡:12.2%
                            </div>
                        </div>
                        <div class="keyword-item">
                            <div class="keyword-name">5. äºæœ¦æœ§</div>
                            <div class="keyword-stats">
                                æ›å…‰:4,897 (-7,719)<br>
                                é»æ“Š:519 (-608)<br>
                                é»æ“Šç‡:10.6%
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å…§å®¹åˆ†é¡è¡¨ç¾ -->
            <div class="section">
                <h2 class="section-title">ğŸ“‚ å…§å®¹åˆ†é¡è¡¨ç¾</h2>

                <div class="chart-container">
                    <h3 style="color: #666; margin-bottom: 15px; font-size: 18px;">å„åˆ†é¡ PV å æ¯”èˆ‡æˆé•·</h3>
                    <div class="chart-wrapper category-chart">
                        <canvas id="categoryChart"></canvas>
                    </div>
                </div>

                <div class="text-content">
                    <p><strong>è©±é¡Œé¡(36%): </strong>145.9 è¬ PV,-12.3%ã€‚é›–å æ¯”æœ€é«˜ä½†æœ‰æ‰€ä¸‹æ»‘,éœ€é–‹ç™¼æ–°è­°é¡Œç¶­æŒç†±åº¦ã€‚</p>
                    <p><strong>å¨›æ¨‚é¡(18.6%): </strong>75.4 è¬ PV,+55.3%ã€‚æœ¬é€±æœ€å¤§äº®é»,äºæœ¦æœ§ã€é–ƒå…µæ¡ˆç­‰è­°é¡Œå¸¶å‹•çˆ†ç™¼æ€§æˆé•·ã€‚</p>
                    <p><strong>å¥åº·é¡(17.3%): </strong>70.1 è¬ PV,-10%ã€‚éœ€åŠ å¼·é¸é¡Œèˆ‡æ¨å»£ç­–ç•¥ã€‚</p>
                    <p><strong>ç”Ÿæ´»é¡(6.4%): </strong>26 è¬ PV,+62.8%ã€‚æˆé•·å¼·å‹,å…§å®¹å¤šå…ƒåŒ–ç­–ç•¥å¥æ•ˆã€‚</p>
                </div>
            </div>

            <!-- é€±PVå‰äº”æ–‡ç«  -->
            <div class="section">
                <h2 class="section-title">ğŸ† é€± PV å‰äº”æ–‡ç« </h2>
                
                <div class="article-list">
                    <div class="article-item">
                        <span class="article-rank">1</span>
                        <span class="article-title">æ¯”ã€Œç¿»è½‰å¸ƒä¸ã€é‚„å°‘è¦‹!ç¶²å‹è²·åˆ°ã€Œè¶…ç´šé™é‡ç‰ˆã€</span>
                        <span class="article-views">PV 115,251</span>
                        <a href="https://cava.tw/topic/fun-fact/261275" target="_blank" class="article-link">https://cava.tw/topic/fun-fact/261275</a>
                    </div>
                    <div class="article-item">
                        <span class="article-rank">2</span>
                        <span class="article-title">å¿«è¨Š/è—äººé–ƒå…µæ¡ˆé–‹åº­!è¢«å‘Š8è—äººå…¨å“¡èªç½ªæ±‚ç·©åˆ‘é­æ‹’</span>
                        <span class="article-views">PV 106,975</span>
                        <a href="https://cava.tw/topic/news/261387" target="_blank" class="article-link">https://cava.tw/topic/news/261387</a>
                    </div>
                    <div class="article-item">
                        <span class="article-rank">3</span>
                        <span class="article-title">ç‹å¤§é™¸é–ƒå…µæ¡ˆæ“´å¤§!æª¢è­¦æ‹˜æ11ä½è—äººåå–®</span>
                        <span class="article-views">PV 101,835</span>
                        <a href="https://cava.tw/entertainment/celebrity/257860" target="_blank" class="article-link">https://cava.tw/entertainment/celebrity/257860</a>
                    </div>
                    <div class="article-item">
                        <span class="article-rank">4</span>
                        <span class="article-title">å¥¹æ‹¿ã€Œäºæœ¦æœ§ç”Ÿæ­»äº¤æ˜“ã€?æ—¥è¨˜ç–‘æ›å…‰!YTRæ­éš±æƒ…</span>
                        <span class="article-views">PV 96,562</span>
                        <a href="https://cava.tw/topic/news/261276" target="_blank" class="article-link">https://cava.tw/topic/news/261276</a>
                    </div>
                    <div class="article-item">
                        <span class="article-rank">5</span>
                        <span class="article-title">ç–‘æ¶‰äºæœ¦æœ§äº‹ä»¶!ç„¦é‚å¥‡ã€Œç”·ç”·ç§å¯†ç…§ã€å¤–æµ</span>
                        <span class="article-views">PV 101,684</span>
                        <a href="https://cava.tw/topic/news/261339" target="_blank" class="article-link">https://cava.tw/topic/news/261339</a>
                    </div>
                </div>

                <div class="text-content">
                    <p>æœ¬é€±ç†±é–€æ–‡ç« ä»¥å¨›æ¨‚è©±é¡Œèˆ‡æ¶ˆè²»æ–°å“ç‚ºä¸»ã€‚ã€Œç¿»è½‰å¸ƒä¸é™é‡ç‰ˆã€ã€ã€Œé–ƒå…µæ¡ˆã€ã€ã€Œäºæœ¦æœ§äº‹ä»¶ã€ç­‰è©±é¡ŒæŒçºŒç™¼é…µ,é¡¯ç¤ºè®€è€…å°çˆ­è­°æ€§å¨›æ¨‚æ–°èèˆ‡é™é‡å•†å“é«˜åº¦é—œæ³¨ã€‚è©±é¡Œé¡èˆ‡å¨›æ¨‚é¡æ–‡ç« ä½”æ“šå‰äº”å,å¥åº·é¡æ–‡ç« æœ¬é€±æœªé€²å…¥å‰äº”,éœ€åŠ å¼·é¸é¡Œç­–ç•¥ã€‚</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ¯æ—¥æµé‡è¶¨å‹¢
        const dailyCtx = document.getElementById('dailyChart').getContext('2d');
        new Chart(dailyCtx, {
            type: 'line',
            data: {
                labels: ['10/22', '10/23', '10/24', '10/25', '10/26', '10/27', '10/28'],
                datasets: [{
                    label: 'æ¯æ—¥ PV',
                    data: [614000, 699000, 486000, 445000, 525000, 644000, 638000],
                    borderColor: '#FF6666',
                    backgroundColor: 'rgba(255, 102, 102, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointRadius: 5,
                    pointHoverRadius: 7
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                layout: {
                    padding: {
                        top: 35
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return 'æ¯æ—¥ PV: ' + context.parsed.y.toLocaleString();
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return (value / 10000) + 'è¬';
                            }
                        }
                    }
                }
            },
            plugins: [{
                afterDatasetsDraw: function(chart) {
                    const ctx = chart.ctx;
                    chart.data.datasets.forEach(function(dataset, i) {
                        const meta = chart.getDatasetMeta(i);
                        if (!meta.hidden) {
                            meta.data.forEach(function(element, index) {
                                ctx.fillStyle = '#666';
                                const fontSize = 12;
                                const fontStyle = 'bold';
                                const fontFamily = 'Microsoft JhengHei';
                                ctx.font = fontStyle + ' ' + fontSize + 'px ' + fontFamily;
                                const dataString = (dataset.data[index] / 10000).toFixed(1) + 'è¬';
                                ctx.textAlign = 'center';
                                ctx.textBaseline = 'bottom';
                                const padding = 8;
                                const position = element.tooltipPosition();
                                ctx.fillText(dataString, position.x, position.y - padding);
                            });
                        }
                    });
                }
            }]
        });

        // æµé‡ä¾†æºå æ¯” - ä½¿ç”¨è‹±æ–‡æ¨™ç±¤å’Œå¼•å°ç·š
        const sourceCtx = document.getElementById('sourceChart').getContext('2d');
        new Chart(sourceCtx, {
            type: 'doughnut',
            data: {
                labels: ['Organic Social', 'Organic Search', 'Direct', 'Referral'],
                datasets: [{
                    data: [83.9, 8.1, 6.5, 1.5],
                    backgroundColor: ['#FF6666', '#FF9933', '#4CAF50', '#9E9E9E']
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 15,
                            font: {
                                size: 13
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.label + ': ' + context.parsed + '%';
                            }
                        }
                    }
                }
            },
            plugins: [{
                afterDatasetsDraw: function(chart) {
                    const ctx = chart.ctx;
                    const dataset = chart.data.datasets[0];
                    const meta = chart.getDatasetMeta(0);
                    
                    meta.data.forEach(function(element, index) {
                        const value = dataset.data[index];
                        const label = chart.data.labels[index];
                        
                        // åªåœ¨å¤§å€å¡Šé¡¯ç¤ºç™¾åˆ†æ¯”(>5%)
                        if (value > 5) {
                            ctx.fillStyle = '#fff';
                            const fontSize = 16;
                            const fontStyle = 'bold';
                            const fontFamily = 'Microsoft JhengHei';
                            ctx.font = fontStyle + ' ' + fontSize + 'px ' + fontFamily;
                            const dataString = value + '%';
                            const position = element.tooltipPosition();
                            ctx.textAlign = 'center';
                            ctx.textBaseline = 'middle';
                            ctx.fillText(dataString, position.x, position.y);
                        } else {
                            // å°å€å¡Šä½¿ç”¨å¼•å°ç·š
                            const position = element.tooltipPosition();
                            const centerX = chart.chartArea.left + (chart.chartArea.right - chart.chartArea.left) / 2;
                            const centerY = chart.chartArea.top + (chart.chartArea.bottom - chart.chartArea.top) / 2;
                            
                            // è¨ˆç®—å¼•å°ç·šçµ‚é»
                            const angle = Math.atan2(position.y - centerY, position.x - centerX);
                            const radius = (element.outerRadius + element.innerRadius) / 2;
                            const x1 = centerX + Math.cos(angle) * element.outerRadius;
                            const y1 = centerY + Math.sin(angle) * element.outerRadius;
                            const x2 = centerX + Math.cos(angle) * (element.outerRadius + 25);
                            const y2 = centerY + Math.sin(angle) * (element.outerRadius + 25);
                            const x3 = x2 + (x2 > centerX ? 35 : -35);
                            
                            // ç•«å¼•å°ç·š
                            ctx.strokeStyle = '#666';
                            ctx.lineWidth = 1.5;
                            ctx.beginPath();
                            ctx.moveTo(x1, y1);
                            ctx.lineTo(x2, y2);
                            ctx.lineTo(x3, y2);
                            ctx.stroke();
                            
                            // é¡¯ç¤ºæ–‡å­—
                            ctx.fillStyle = '#666';
                            ctx.font = 'bold 13px Microsoft JhengHei';
                            ctx.textAlign = x2 > centerX ? 'left' : 'right';
                            ctx.textBaseline = 'middle';
                            ctx.fillText(value + '%', x3 + (x2 > centerX ? 5 : -5), y2);
                        }
                    });
                }
            }]
        });

        // ä¸»è¦ç¤¾ç¾¤ä¾†æº
        const socialCtx = document.getElementById('socialChart').getContext('2d');
        new Chart(socialCtx, {
            type: 'bar',
            data: {
                labels: ['m.facebook.com', 'lm.facebook.com', 'l.facebook.com', 'l.threads.com'],
                datasets: [{
                    label: 'PV(è¬)',
                    data: [224, 107, 7.9, 2.5],
                    backgroundColor: ['#FF6666', '#FF8888', '#FFAAAA', '#FFCCCC']
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                layout: {
                    padding: {
                        top: 25
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.parsed.y + ' è¬ PV';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            },
            plugins: [{
                afterDatasetsDraw: function(chart) {
                    const ctx = chart.ctx;
                    chart.data.datasets.forEach(function(dataset, i) {
                        const meta = chart.getDatasetMeta(i);
                        if (!meta.hidden) {
                            meta.data.forEach(function(element, index) {
                                ctx.fillStyle = '#666';
                                const fontSize = 13;
                                const fontStyle = 'bold';
                                const fontFamily = 'Microsoft JhengHei';
                                ctx.font = fontStyle + ' ' + fontSize + 'px ' + fontFamily;
                                const dataString = dataset.data[index] + 'è¬';
                                ctx.textAlign = 'center';
                                ctx.textBaseline = 'bottom';
                                const padding = 6;
                                const position = element.tooltipPosition();
                                ctx.fillText(dataString, position.x, position.y - padding);
                            });
                        }
                    });
                }
            }]
        });

        // å…§å®¹åˆ†é¡è¡¨ç¾ - è² æ•¸ç”¨ç´…è‰²
        const categoryCtx = document.getElementById('categoryChart').getContext('2d');
        const categoryGrowth = [-12.3, 55.3, -10, 62.8, 0];
        const growthColors = categoryGrowth.map(val => val < 0 ? '#F44336' : '#4CAF50');
        
        new Chart(categoryCtx, {
            type: 'bar',
            data: {
                labels: ['è©±é¡Œ', 'å¨›æ¨‚', 'å¥åº·', 'ç”Ÿæ´»', 'ç¾å¦'],
                datasets: [
                    {
                        label: 'PV(è¬)',
                        data: [145.9, 75.4, 70.1, 26, 22.4],
                        backgroundColor: '#FF9933',
                        yAxisID: 'y'
                    },
                    {
                        label: 'æˆé•·ç‡(%)',
                        data: categoryGrowth,
                        backgroundColor: growthColors,
                        yAxisID: 'y1'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                layout: {
                    padding: {
                        top: 30
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const label = context.dataset.label || '';
                                return label + ': ' + context.parsed.y;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        position: 'left',
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'PV(è¬)'
                        }
                    },
                    y1: {
                        type: 'linear',
                        position: 'right',
                        grid: {
                            drawOnChartArea: false
                        },
                        title: {
                            display: true,
                            text: 'æˆé•·ç‡(%)'
                        }
                    }
                }
            },
            plugins: [{
                afterDatasetsDraw: function(chart) {
                    const ctx = chart.ctx;
                    chart.data.datasets.forEach(function(dataset, datasetIndex) {
                        const meta = chart.getDatasetMeta(datasetIndex);
                        if (!meta.hidden) {
                            meta.data.forEach(function(element, index) {
                                // æ ¹æ“šè³‡æ–™é›†å’Œæ•¸å€¼æ±ºå®šé¡è‰²
                                if (datasetIndex === 0) {
                                    ctx.fillStyle = '#333';
                                } else {
                                    // æˆé•·ç‡:è² æ•¸ç´…è‰²,æ­£æ•¸æ·±ç¶ 
                                    ctx.fillStyle = dataset.data[index] < 0 ? '#F44336' : '#2E7D32';
                                }
                                
                                const fontSize = 13;
                                const fontStyle = 'bold';
                                const fontFamily = 'Microsoft JhengHei';
                                ctx.font = fontStyle + ' ' + fontSize + 'px ' + fontFamily;
                                
                                let dataString;
                                if (datasetIndex === 0) {
                                    dataString = dataset.data[index] + 'è¬';
                                } else {
                                    dataString = dataset.data[index] + '%';
                                }
                                
                                ctx.textAlign = 'center';
                                ctx.textBaseline = 'bottom';
                                const padding = 6;
                                const position = element.tooltipPosition();
                                ctx.fillText(dataString, position.x, position.y - padding);
                            });
                        }
                    });
                }
            }]
        });
    </script>
</body>
</html>
